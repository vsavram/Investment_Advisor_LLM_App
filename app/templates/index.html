<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Investment Advisor LLM</title>
    <link rel="stylesheet" href="/static/styles.css">
    <style>
        h1 {
            text-align: center;
            font-size: 2rem;
            margin-bottom: 10px;
            color: #007bff;
        }

        h3 {
            color: #555;
            font-weight: normal;
            margin-bottom: 30px;
        }

        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
        }

        .container {
            max-width: 800px;
            margin: 50px auto;
            background: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        textarea {
            width: 100%;
            height: 150px;
            margin-bottom: 15px;
            padding: 10px;
            font-size: 16px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }

        .form-controls {
            display: flex;
            align-items: center;
        }

        button {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            border-radius: 4px;
            transition: background-color 0.3s ease;
        }

        button:hover {
            background-color: #0056b3;
        }

        .response {
            margin-top: 20px;
            background-color: #f9f9f9;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 4px;
            line-height: 1.6;
        }

        .response h2 {
            color: #333;
        }

        footer {
            text-align: center;
            margin-top: 20px;
            font-size: 14px;
            color: #666;
            padding: 10px;
            background-color: #f9f9f9;
            border-top: 1px solid #ddd;
        }

        footer p {
            margin: 0;
        }

        .loading {
            display: none; /* Hidden by default */
            margin-left: 10px;
        }

        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #007bff;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Investment Advisor LLM</h1>
        <h3>An LLM to help answer your investment-related questions, implement investment strategies, and reach your financial goals.</h3>
        <form action="/query" method="post" id="query-form">
            <textarea name="query" placeholder="Type your query here..." required></textarea>
            <div class="form-controls">
                <button type="submit">Submit</button>
                <div class="loading" id="loading-icon">
                    <div class="spinner"></div>
                </div>
            </div>
        </form>
        {% if user_query %}
        <div class="response">
            <h2>Your Query:</h2>
            <p>{{ user_query }}</p>
            <h2>Response:</h2>
            <div>
                {{ response | safe }}
            </div>
        </div>
        {% endif %}
    </div>

    <footer style="text-align: center; margin-top: 20px; font-size: 14px; color: #666; padding: 10px;">
        <p>
            Disclaimer: The creators of this LLM are not liable for the actions or decisions taken by users. 
            Investment advice provided by this application is for informational purposes only, and users follow such advice at their own risk.
        </p>
    </footer>

    <script>
        const form = document.getElementById("query-form");
        const loadingIcon = document.getElementById("loading-icon");

        // Show loading icon on form submit
        form.addEventListener("submit", function () {
            loadingIcon.style.display = "inline-block";
        });

        // Hide loading icon on page load
        window.addEventListener("load", function () {
            loadingIcon.style.display = "none";
        });
    </script>
</body>
</html>
